(()=>{var t={791:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTE4LjkgMzUuN0w3LjcgMjQuNWwyLjE1LTIuMTUgOS4wNSA5LjA1IDE5LjItMTkuMiAyLjE1IDIuMTV6Ii8+PC9zdmc+"},422:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTEzLjA1IDQycS0xLjIgMC0yLjEtLjktLjktLjktLjktMi4xVjEwLjVIOHYtM2g5LjRWNmgxMy4ydjEuNUg0MHYzaC0yLjA1VjM5cTAgMS4yLS45IDIuMS0uOS45LTIuMS45em0yMS45LTMxLjVoLTIxLjlWMzloMjEuOXptLTE2LjYgMjQuMmgzVjE0Ljc1aC0zem04LjMgMGgzVjE0Ljc1aC0zem0tMTMuNi0yNC4yVjM5eiIvPjwvc3ZnPg=="},224:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTkgMzloMi4ybDIyLjE1LTIyLjE1LTIuMi0yLjJMOSAzNi44em0zMC43LTI0LjNsLTYuNC02LjQgMi4xLTIuMXEuODUtLjg1IDIuMS0uODV0Mi4xLjg1bDIuMiAyLjJxLjg1Ljg1Ljg1IDIuMXQtLjg1IDIuMXptLTIuMSAyLjFMMTIuNCA0Mkg2di02LjRsMjUuMi0yNS4yem0tNS4zNS0xLjA1bC0xLjEtMS4xIDIuMiAyLjJ6Ii8+PC9zdmc+"},570:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIGhlaWdodD0iNDgiIHdpZHRoPSI0OCI+PHBhdGggZD0iTTI0IDQ0cS00LjI1IDAtNy45LTEuNTI1LTMuNjUtMS41MjUtNi4zNS00LjIyNS0yLjctMi43LTQuMjI1LTYuMzVRNCAyOC4yNSA0IDI0cTAtNC4yIDEuNTI1LTcuODVRNy4wNSAxMi41IDkuNzUgOS44cTIuNy0yLjcgNi4zNS00LjI1UTE5Ljc1IDQgMjQgNHEzLjc1IDAgNyAxLjJ0NS44NSAzLjNsLTIuMTUgMi4xNXEtMi4yLTEuNzUtNC45LTIuN1EyNy4xIDcgMjQgN3EtNy4yNSAwLTEyLjEyNSA0Ljg3NVQ3IDI0cTAgNy4yNSA0Ljg3NSAxMi4xMjVUMjQgNDFxMS44NSAwIDMuNTc1LS4zNVQzMC45IDM5LjZsMi4yNSAyLjNxLTIuMDUgMS00LjM1IDEuNTVUMjQgNDR6bTE0LjUtNC41di02aC02di0zaDZ2LTZoM3Y2aDZ2M2gtNnY2em0tMTcuNDUtNi40bC04LjI1LTguMyAyLjI1LTIuMjUgNiA2IDIwLjctMjAuNyAyLjMgMi4yNXoiLz48L3N2Zz4="}},e={};function n(c){var o=e[c];if(void 0!==o)return o.exports;var l=e[c]={exports:{}};return t[c](l,l.exports,n),l.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var c in e)n.o(e,c)&&!n.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:e[c]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=function(){0===localStorage.length&&localStorage.setItem("Default",JSON.stringify([]));const t=function(t){if("ID_STORAGE"===t)return null;const e=localStorage.getItem(t);return null===e||""===e?[]:JSON.parse(e)},e=function(){const t=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);"ID_STORAGE"!==n&&t.push(n)}return t};return{getTasks:t,add:function(e,n){const c=t(e);if(null===c)return null;c.push(n),localStorage.setItem(e,JSON.stringify(c))},remove:function(e,n){const c=t(e);if(null===c)return null;for(let t in c)if(c[t].id===n)return c.splice(t,1),localStorage.setItem(e,JSON.stringify(c)),!0;return!1},replace:function(e,n,c){const o=t(e);if(null===o)return null;for(let t in o)if(o[t].id===n)return o.splice(t,1,c),localStorage.setItem(e,JSON.stringify(o)),!0;return!1},fetchId:function(){let t=localStorage.getItem("ID_STORAGE");null===t&&(t="0"),t=Number(t);let e=t+1;return localStorage.setItem("ID_STORAGE",e.toString()),t},fetchProjects:e,newProject:function(t){if(e().includes(t))return null;localStorage.setItem(t,JSON.stringify([]))},removeProject:function(t){if(!t)return null;const n=e();t=String(t),n.includes(t)&&localStorage.removeItem(t)},toggleCompletion:function(e,n){const c=t(e);if(null===c)return null;for(let t in c)if(c[t].id===n)return c[t].completed=!c[t].completed,console.log("ytyy"),localStorage.setItem(e,JSON.stringify(c)),!0;return!1},fetchTask:function(e,n){const c=t(e);if(null===c)return null;for(let t in c)if(c[t].id===n)return c[t];return null}}}(),e={insertTask:function(e,n){const c=function(e){if(!e instanceof Object)return null;const n={};return n.title=e.title||"",n.desc=e.desc||"",n.priority=e.priority||"4",n.date=e.date||"No Date",n.color=e.color||"#ffffff",n.completed=e.completed||!1,n.id=String(e.id||t.fetchId()),n}(n);if(null===c)return null;""!==(e=String(e))&&"null"!==e||(e="Default"),null!==n.id?t.replace(e,c.id,c):t.add(e,c)}};var c=n(791),o=n.n(c),l=n(422),r=n.n(l),a=n(224),i=n.n(a),s=n(570),u=n.n(s);!function(){const n=document.querySelector("body"),c=document.createElement("img");c.src=u(),c.id="add-task",n.appendChild(c);const l=function(t){const e=document.createElement("div");e.id="popup-overlay",t.style.transform="translateY(100vh)",e.appendChild(t),n.appendChild(e),setTimeout((()=>{e.style.backgroundColor="rgba(0,0,0,0.5)",t.style.transform=""}),1)},a=function(){const t=document.getElementById("popup-overlay");if(null===t)return;const e=t.firstChild;t.style.backgroundColor="",e.style.transform="scale(0)",setTimeout((()=>{t.parentElement.removeChild(t)}),300)},s=function(){const t=this.getAttribute("data-value"),e=this.parentElement,n=e.parentElement;console.log(n),n.setAttribute("data-value",t),e.style.transform+="scale(0.6 ,0)",e.style.opacity="0.5",setTimeout((()=>{n.classList.contains("color")?(n.style.backgroundColor=t,n.removeChild(e)):(n.removeChild(e),n.textContent=t)}),150)},d=function(t,e,n=!1){const c=document.createElement("div");c.style.position="absolute",c.style.bottom="0",c.style.left="50%",c.style.transform="translateX(-50%)",c.style.display="flex",c.style.flexDirection="column",c.className="selector",c.onclick=t=>{t.stopPropagation()};for(const e in t){const o=document.createElement("button");o.setAttribute("data-value",t[e]),n?o.style.backgroundColor=t[e]:o.textContent=t[e],o.onclick=s,c.appendChild(o)}c.style.transformOrigin="bottom",c.style.transform+="scaleY(0)",e.replaceChildren(c),setTimeout((()=>{c.style.transform="translateX(-50%)"}),1)},m=function(){d({cyan:"#06b6d4",red:"#ef4444",yellow:"#facc15",green:"#84cc16",orange:"#fb923c",black:"#1e293b",grey:"#64748b"},this,!0)},p=function(){d(["1","2","3","4","5"],this,!1)},y=function(t,n={}){const c=document.createElement("div");c.className="form";const o=document.createElement("input");o.className="title",o.placeholder="title",o.value=n.title||"";const l=document.createElement("textarea");l.className="desc",l.placeholder="Description",l.value=n.desc||"";const r=document.createElement("div"),i=document.createElement("input");i.type="date",i.className="date",i.value=n.date||"";const s=document.createElement("div"),u=document.createElement("div"),d=document.createElement("div");d.textContent="Priority";const y=document.createElement("button");y.className="priority",y.style.position="relative",y.setAttribute("data-value",n.priority||"3"),y.textContent=y.getAttribute("data-value"),y.onclick=p,u.append(d,y);const g=document.createElement("div"),j=document.createElement("div");j.textContent="Color";const f=document.createElement("button");f.className="color",f.setAttribute("data-value",n.color||"#64748b"),f.style.backgroundColor=f.getAttribute("data-value"),f.style.position="relative",f.onclick=m,g.append(j,f),s.append(u,g),r.append(i,s);const N=document.createElement("div"),L=document.createElement("button");L.textContent="Cancel",L.className="cancel",L.onclick=a;const M=document.createElement("button");return M.textContent=t||"Save",M.className="confirm",M.onclick=()=>{!function(t,n,c,o,l,r){const i={title:t.value||"Untitled",desc:n.value||"",color:c.getAttribute("data-value"),priority:o.getAttribute("data-value"),date:l.value||"No Date",id:r.id||null,completed:r.completed||!1},s=document.querySelector(".selected-project");if(null===s)return null;e.insertTask(s.textContent,i),I(),a()}(o,l,f,y,i,n)},N.append(L,M),c.append(o,l,r,N),c};c.onclick=()=>{l(y("Add"))};const g=document.getElementById("projects"),j=function(){const e=t.fetchProjects();let n=document.querySelector(".selected-project");null!==n&&(n=n.textContent),g.innerHTML="",e.forEach((t=>{const e=document.createElement("button");e.className="project",null!==n&&t===n&&e.classList.add("selected-project"),e.textContent=t,e.onclick=N,g.appendChild(e)})),null===n&&e.length>0&&document.querySelectorAll(".project")[0].classList.add("selected-project")},f=document.getElementById("tasks"),N=function(){L(),this.classList.add("selected-project"),I()};function I(){const e=document.querySelector(".selected-project");if(null===e)return f.innerHTML="",null;const n=t.getTasks(e.textContent);f.innerHTML="",n.forEach((t=>{M(t)}))}const L=function(){document.querySelectorAll("#projects>button").forEach((t=>{t.classList.remove("selected-project")}))},M=function(t){const e=document.createElement("div");e.className="task",e.style.borderColor=t.color,e.setAttribute("data-task-id",t.id),t.completed&&e.classList.add("completed");const n=100-20*t.priority;e.style.flexBasis=`${150+n}px`,e.style.fontSize=.6+n/150+"rem";const c=document.createElement("p");c.className="task-title",c.textContent=t.title;const l=document.createElement("div");l.textContent=t.desc,l.className="task-desc";const a=document.createElement("div");a.className="task-bottom-container";const s=document.createElement("div");s.textContent=t.date,s.className="task-date",document.querySelectorAll(".project");const u=document.createElement("div");u.className="task-buttons";const d=document.createElement("img");d.src=o(),d.alt="Complete",d.onclick=E;const m=document.createElement("img");m.src=i(),m.alt="Edit",m.onclick=S;const p=document.createElement("img");p.src=r(),p.alt="Remove",p.onclick=v,u.append(p,m,d),a.append(s,u),e.append(c,l,a),f.append(e)};function E(){const e=this.parentElement.parentElement.parentElement,n=e.getAttribute("data-task-id"),c=document.querySelector(".selected-project");if(null===c)return null;e.classList.toggle("completed"),t.toggleCompletion(c.textContent,n)}function S(){const e=this.parentElement.parentElement.parentElement.getAttribute("data-task-id"),n=document.querySelector(".selected-project");if(null===n)return null;const c=t.fetchTask(n.textContent,e)||{};l(y("Save",c))}function v(){const e=this.parentElement.parentElement.parentElement.getAttribute("data-task-id"),n=document.querySelector(".selected-project");if(null===n)return null;l(T("this task",(()=>{t.remove(n.textContent,e),I()})))}document.getElementById("new-project").onclick=()=>{l(function(){const e=document.createElement("div");e.className="form";const n=document.createElement("input");n.id="new-project-name",n.placeholder="Project Name";const c=document.createElement("button");c.className="confirm",c.textContent="Add Project",c.onclick=()=>{!function(e){if(!(e=String(e)))return;t.newProject(e),j()}(n.value),a()};const o=document.createElement("button");return o.className="cancel",o.textContent="Cancel",o.onclick=a,e.append(n,c,o),e}())};function C(){const e=document.querySelector(".selected-project");if(null===e)return null;t.removeProject(e.textContent),j();const n=document.querySelectorAll(".project");n.length>0&&n[0].classList.add("selected-project"),I()}function T(t,e){const n=document.createElement("div");n.className="form";const c=document.createElement("p");c.className="message",c.textContent=`Are you sure you want to remove ${t}?`;const o=document.createElement("button");o.className="confirm",o.textContent="Confirm",o.onclick=()=>{e(),a()};const l=document.createElement("button");return l.className="cancel",l.textContent="Cancel",l.onclick=a,n.append(c,o,l),n}document.getElementById("remove-project").onclick=function(){const t=document.querySelector(".selected-project");if(null===t)return;l(T(t.textContent,C))},j(),null===document.querySelector(".selected-project")&&document.getElementById("projects").hasChildNodes()&&document.querySelector(".project:first-child").classList.add("selected-project"),I()}()})()})();